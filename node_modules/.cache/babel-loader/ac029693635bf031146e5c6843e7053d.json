{"ast":null,"code":"var _jsxFileName = \"/home/zsn/\\u684C\\u9762/NOTE/jianshu/src/common/header/index.js\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { CSSTransition } from 'react-transition-group';\nimport { actionCreators } from './store';\nimport { HeaderWrapper, Logo, Nav, NavItem, NavSearch, SearchWrapper, Addition, Button, SearchInfo, SearchInfoTitle, SearchInfoSwitch, SearchInfoList, SearchInfoItem } from './style';\n\nclass Header extends Component {\n  getListArea() {\n    const {\n      focused,\n      list,\n      page,\n      mouseIn,\n      handleMouseEnter,\n      handleMouseLeave,\n      handleChangePage\n    } = this.props;\n    const newList = list.toJS();\n    const pageList = [];\n\n    for (let i = (page - 1) * 10; i < page * 10; i++) {\n      pageList.push( /*#__PURE__*/React.createElement(SearchInfoItem, {\n        key: newList[i],\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 28,\n          columnNumber: 17\n        }\n      }, newList[i]));\n    }\n\n    if (focused || mouseIn) {\n      return /*#__PURE__*/React.createElement(SearchInfo, {\n        onMouseEnter: handleMouseEnter,\n        onMouseLeave: handleMouseLeave,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 33,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(SearchInfoTitle, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 33\n        }\n      }, \"\\u70ED\\u95E8\\u641C\\u7D22\", /*#__PURE__*/React.createElement(SearchInfoSwitch, {\n        onClick: handleChangePage,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 37\n        }\n      }, \"\\u6362\\u4E00\\u6279\")), /*#__PURE__*/React.createElement(SearchInfoList, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 33\n        }\n      }, pageList));\n    } else {\n      return null;\n    }\n  }\n\n  render() {\n    const {\n      focused,\n      handleInputFocus,\n      handleInputBlur\n    } = this.props;\n    return /*#__PURE__*/React.createElement(HeaderWrapper, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Logo, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(Nav, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(NavItem, {\n      className: \"left active\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 25\n      }\n    }, \"\\u9996\\u9875\"), /*#__PURE__*/React.createElement(NavItem, {\n      className: \"left\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 25\n      }\n    }, \"\\u4E0B\\u8F7DApp\"), /*#__PURE__*/React.createElement(NavItem, {\n      className: \"right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 25\n      }\n    }, \"\\u767B\\u5F55\"), /*#__PURE__*/React.createElement(NavItem, {\n      className: \"right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"iconfont\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 52\n      }\n    }, \"\\uE636\")), /*#__PURE__*/React.createElement(SearchWrapper, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(CSSTransition, {\n      in: focused,\n      timeout: 200,\n      classNames: \"slide\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(NavSearch, {\n      className: focused ? 'focused' : '',\n      onFocus: handleInputFocus,\n      onBlur: handleInputBlur,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 33\n      }\n    })), /*#__PURE__*/React.createElement(\"i\", {\n      className: focused ? 'focused iconfont' : 'iconfont',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 29\n      }\n    }, \"\\uE614\"), this.getListArea())), /*#__PURE__*/React.createElement(Addition, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      className: \"writting\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 25\n      }\n    }, \"\\u5199\\u6587\\u7AE0\"), /*#__PURE__*/React.createElement(Button, {\n      className: \"reg\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 25\n      }\n    }, \"\\u6CE8\\u518C\")));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    focused: state.getIn(['header', 'focused']),\n    list: state.getIn(['header', 'list']),\n    page: state.getIn(['header', 'page']),\n    mouseIn: state.getIn(['header', 'mouseIn'])\n  };\n};\n\nconst mapDispathToProps = dispatch => {\n  return {\n    handleInputFocus() {\n      dispatch(actionCreators.getList());\n      dispatch(actionCreators.searchFocus());\n    },\n\n    handleInputBlur() {\n      dispatch(actionCreators.searchBlur());\n    },\n\n    handleMouseEnter() {\n      dispatch(actionCreators.mouseEnter());\n    },\n\n    handleMouseLeave() {\n      dispatch(actionCreators.mouseLeave());\n    }\n\n  };\n};\n\nexport default connect(mapStateToProps, mapDispathToProps)(Header);","map":{"version":3,"sources":["/home/zsn/桌面/NOTE/jianshu/src/common/header/index.js"],"names":["React","Component","connect","CSSTransition","actionCreators","HeaderWrapper","Logo","Nav","NavItem","NavSearch","SearchWrapper","Addition","Button","SearchInfo","SearchInfoTitle","SearchInfoSwitch","SearchInfoList","SearchInfoItem","Header","getListArea","focused","list","page","mouseIn","handleMouseEnter","handleMouseLeave","handleChangePage","props","newList","toJS","pageList","i","push","render","handleInputFocus","handleInputBlur","mapStateToProps","state","getIn","mapDispathToProps","dispatch","getList","searchFocus","searchBlur","mouseEnter","mouseLeave"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { CSSTransition } from 'react-transition-group';\r\nimport { actionCreators } from './store';\r\nimport { \r\n    HeaderWrapper,\r\n     Logo,\r\n     Nav,\r\n     NavItem,\r\n     NavSearch,\r\n     SearchWrapper,\r\n     Addition,\r\n     Button,\r\n     SearchInfo,\r\n     SearchInfoTitle,\r\n     SearchInfoSwitch,\r\n     SearchInfoList,\r\n     SearchInfoItem\r\n} from './style'\r\n\r\nclass Header extends Component {\r\n    getListArea() {\r\n        const { focused, list, page, mouseIn, handleMouseEnter, handleMouseLeave, handleChangePage } = this.props;\r\n        const newList = list.toJS();\r\n        const pageList = [];\r\n        for (let i = (page - 1) * 10; i < page * 10 ; i++ ) {\r\n            pageList.push(\r\n                <SearchInfoItem key={newList[i]}>{newList[i]}</SearchInfoItem>\r\n            )\r\n        }\r\n        if (focused || mouseIn) {\r\n            return (\r\n                <SearchInfo \r\n                    onMouseEnter={handleMouseEnter}\r\n                    onMouseLeave={handleMouseLeave}\r\n                >\r\n                                <SearchInfoTitle>\r\n                                    热门搜索\r\n                                    <SearchInfoSwitch onClick={handleChangePage}>换一批</SearchInfoSwitch>\r\n                                </SearchInfoTitle>\r\n                                <SearchInfoList>\r\n                                    {pageList}\r\n                                </SearchInfoList>\r\n                            </SearchInfo>\r\n            )\r\n        } else {\r\n            return null;\r\n        }\r\n    }\r\n    render() {\r\n        const { focused, handleInputFocus, handleInputBlur } = this.props\r\n        return (\r\n            <HeaderWrapper>\r\n                    <Logo/>\r\n                    <Nav>\r\n                        <NavItem className=\"left active\">首页</NavItem>\r\n                        <NavItem className=\"left\">下载App</NavItem>\r\n                        <NavItem className=\"right\">登录</NavItem>\r\n                        <NavItem className=\"right\"><i className=\"iconfont\">&#xe636;</i></NavItem>\r\n                        <SearchWrapper>\r\n                            <CSSTransition\r\n                                in={focused}\r\n                                timeout={200}\r\n                                classNames=\"slide\"\r\n                            >\r\n                                <NavSearch\r\n                                    className={focused ? 'focused' : ''}\r\n                                    onFocus={handleInputFocus}\r\n                                    onBlur={handleInputBlur}\r\n                                ></NavSearch>\r\n                            </CSSTransition>\r\n                            <i className={focused ? 'focused iconfont' : 'iconfont'}>&#xe614;</i>\r\n                            { this.getListArea() }\r\n                        </SearchWrapper>\r\n                    </Nav>\r\n                    <Addition>\r\n                        <Button className='writting'>写文章</Button>\r\n                        <Button className='reg'>注册</Button>\r\n                    </Addition>\r\n                </HeaderWrapper>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        focused: state.getIn(['header', 'focused']),\r\n        list: state.getIn(['header', 'list']),\r\n        page: state.getIn(['header', 'page']),\r\n        mouseIn: state.getIn(['header', 'mouseIn'])\r\n    }\r\n}\r\n\r\nconst mapDispathToProps = (dispatch) => {\r\n    return {\r\n        handleInputFocus() {\r\n            dispatch(actionCreators.getList())\r\n            dispatch(actionCreators.searchFocus());\r\n        },\r\n        handleInputBlur() {\r\n            dispatch(actionCreators.searchBlur());\r\n        },\r\n        handleMouseEnter() {\r\n            dispatch(actionCreators.mouseEnter());\r\n        },\r\n        handleMouseLeave() {\r\n            dispatch(actionCreators.mouseLeave());\r\n        }\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispathToProps)(Header);"]},"metadata":{},"sourceType":"module"}